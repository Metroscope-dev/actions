name: 'kubectl - GKE'
author: 'Metroscope'
description: 'GitHub Action to perform GKE/k8s rolling update'
inputs:
  APPLICATION_CREDENTIALS:
    description: 'GCP authorization credentials'
    required: true
  PROJECT_ID:
    description: 'Project id'
    required: true
  CLUSTER_NAME:
    description: 'GKE Cluser Name'
    required: true
  ZONE_NAME:
    description: 'Zone Name'
    required: true
  image:
    description: 'image to deploy <registry>/<repo>/<image>'
    required: true
  # tag:
  #   description: 'tag wanted'
  #   required: true
  deployment:
    description: 'selected deployment'
    required: true
  container:
    description: 'Container to update'
    required: true
outputs:
  slack_message:
    description: 'message which can be send to slack in order to describe the new deployed version '
runs:
  using: 'docker'
  image: 'docker://harbor.metroscope.tech/actions/k8s/gcp:1.0.0'
