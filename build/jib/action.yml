name: 'Build and publish Docker'
author: 'Metroscope'
description: 'Uses the git tag as the docker tag and pushes the container'
inputs:
  REGISTRY_PASSWORD:
    description: 'password of the registry'
    required: true
  REGISTRY_USER:
    description: 'login of the registry'
    required: true
  JFROG_USER:
    description: jfrog login
    required: true
  JFROG_PASSWORD:
    description: jfrog password
    required: true
runs:
  using: 'docker'
  image: 'docker://harbor.metroscope.tech/actions/build/jib:1.0.0'
