name: 'Build and publish Docker'
author: "Metroscope"
description: 'Uses the git branch as the docker tag and pushes the container'
inputs:
  registry_password:
    description: "password of the registry"
    required: true
  registry_login:
    description: "login of the registry"
    required: true
  image:
    description: "full name of the image <registry>/<repo>/<name> without tag"
    required: true
  tag:
    description: "tag wanted for this image"
    required: true
  dockerfile:
    description: "name of the dockerfile"
    required: false
    default: "Dockerfile"
runs:
  using: 'docker'
  image: 'Dockerfile'
